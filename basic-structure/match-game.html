<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Matching game</title>
</head>

<body style="background-color: lightcoral;height: 100vh;">
    <div class="section">
        <div class="container">
            <div class="columns is-centered">
                <div class="column is-5">
                    <div class="box" style="margin-top: 80px;background-color: lightgreen;border: 8px solid black;">

                        <h5 class="is-size-4" style="text-align: center;"><strong>Score:</strong> <b><span id="result"
                                    style="color: #000000;"></span></b></h5>
                        <hr>
                        <div class="grid">

                            <style>
                                .grid {
                                    display: flex;
                                    flex-wrap: wrap;
                                    width: 400px;
                                    height: 300px;
                                }
                            </style>

                            <body>





                                <script>
                                    document.addEventListener('DOMContentLoaded', () => {
                                        //card options
                                        const cardArray = [
                                            {
                                                name: 'fries',
                                                img: 'fries.png'
                                            },
                                            {
                                                name: 'cheeseburger',
                                                img: 'cheeseburger.png'
                                            },
                                            {
                                                name: 'ice-cream',
                                                img: 'ice-cream.png'
                                            },
                                            {
                                                name: 'pizza',
                                                img: 'pizza.png'
                                            },
                                            {
                                                name: 'milkshake',
                                                img: 'milkshake.png'
                                            },
                                            {
                                                name: 'hotdog',
                                                img: 'hotdog.png'
                                            },
                                            {
                                                name: 'fries',
                                                img: 'fries.png'
                                            },
                                            {
                                                name: 'cheeseburger',
                                                img: 'cheeseburger.png'
                                            },
                                            {
                                                name: 'ice-cream',
                                                img: 'ice-cream.png'
                                            },
                                            {
                                                name: 'pizza',
                                                img: 'pizza.png'
                                            },
                                            {
                                                name: 'milkshake',
                                                img: 'milkshake.png'
                                            },
                                            {
                                                name: 'hotdog',
                                                img: 'hotdog.png'
                                            }
                                        ]

                                        cardArray.sort(() => 0.5 - Math.random())

                                        const grid = document.querySelector('.grid')
                                        const resultDisplay = document.querySelector('#result')
                                        let cardsChosen = []
                                        let cardsChosenId = []
                                        let cardsWon = []

                                        //create your board
                                        function createBoard() {
                                            for (let i = 0; i < cardArray.length; i++) {
                                                const card = document.createElement('img')
                                                card.setAttribute('src', 'blank.png')
                                                card.setAttribute('data-id', i)
                                                card.addEventListener('click', flipCard)
                                                grid.appendChild(card)
                                            }
                                        }

                                        //check for matches
                                        function checkForMatch() {
                                            const cards = document.querySelectorAll('img')
                                            const optionOneId = cardsChosenId[0]
                                            const optionTwoId = cardsChosenId[1]

                                            if (optionOneId == optionTwoId) {
                                                cards[optionOneId].setAttribute('src', 'blank.png')
                                                cards[optionTwoId].setAttribute('src', 'blank.png')
                                                alert('You have match  same image!')
                                            }
                                            else if (cardsChosen[0] === cardsChosen[1]) {
                                                alert('yesss you can play verry well')
                                                cards[optionOneId].setAttribute('src', 'white.png')
                                                cards[optionTwoId].setAttribute('src', 'white.png')
                                                cards[optionOneId].removeEventListener('click', flipCard)
                                                cards[optionTwoId].removeEventListener('click', flipCard)
                                                cardsWon.push(cardsChosen)
                                            } else {
                                                cards[optionOneId].setAttribute('src', 'blank.png')
                                                cards[optionTwoId].setAttribute('src', 'blank.png')
                                                alert('oopss, please try again!!')
                                            }
                                            cardsChosen = []
                                            cardsChosenId = []
                                            resultDisplay.textContent = cardsWon.length
                                            if (cardsWon.length === cardArray.length / 2) {
                                                resultDisplay.textContent = 'Owowwwww you are winner!!'
                                            }
                                        }

                                        //flip your card
                                        function flipCard() {
                                            let cardId = this.getAttribute('data-id')
                                            cardsChosen.push(cardArray[cardId].name)
                                            cardsChosenId.push(cardId)
                                            this.setAttribute('src', cardArray[cardId].img)
                                            if (cardsChosen.length === 2) {
                                                setTimeout(checkForMatch, 500)
                                            }
                                        }

                                        createBoard()
                                    })

                                </script>
                            </body>

</html>