<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
    />
    <title>Calculate duration</title>
  </head>

  <body>
    <div class="hero-body">
      <div class="container">
        <div class="columns is-centered">
          <div class="column is-10">
            <div class="card card-body text-center">


              <section class="hero">
                <div class="hero-body">
                  <div class="container">

          <div class="columns">
          <div class="column is-6">

          <h5 class="is-size-5">
            <b>Letter Generator Options</b>
          </h5>
          <br>
                       
          <label class="label">
              <b>How many Letters to generate?</b>
          </label>
           <input class="input is-small" type="number" placeholder="Number of letters"id="letters">
          <br>
          
          <label class="label">
              <b>Length of each random letter</b>
          </label>
          <input class="input is-small" type="number" placeholder="Number of Characters"id="characters"/>
          <br>
                        
          <label class="label">
              <b>Letters to choose from</b>
          </label>
          <div class="control">
          <textarea class="output" placeholder="" id="output" cols="50"></textarea>
          </div>
          <br>

          <button class="button is-success" onclick="getRandomeNumber()">
            <span class="icon">
               <i class="fas fa-user-cog"></i>
           </span>
             <span>generate Letters</span>
         </button>

          <!-- <button class="button is-success" onclick="getRandomeNumber()">Generate Letters<i class="fas fa-user-cog"></i></button> -->
          <button class="button" onclick="copy()"><i class="fa-regular fa-copy"></i>
          </button>
          <button class="button" name="button" id="btn" value="Download"><i class="fa fa-download"></i> </button>
      </div>



              <div class="column is-6">
                  <div class="control">
                      <textarea class="textarea is-primary"placeholder="Generated Letters" cols="15" rows="12" id="result"></textarea>


                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>


    
    <script>






      function download(file, result) {
        
        var element = document.createElement("a");
        element.setAttribute("href","data:text/plain;charset=utf-8, " + encodeURIComponent(result) );
        element.setAttribute("download", file);

        
        

        document.body.appendChild(element);

       
        element.click();

        document.body.removeChild(element);
      }

     
      document.getElementById("btn").addEventListener(
        "click",
        function () {
         
         
          var text = document.getElementById("result").value;
        //   var filename = "GFG.txt";
        var filename = "download.txt";

          download(filename, result);
        },
        false
      );










      function copy() {
        var content = document.getElementById("result");
        content.select();
        document.execCommand("copy");
      }


    //   let i = 0;
    //   let text = [];
    //   while (i < characters) {}


      function getNumber(characters, input) {
        let i = 0;
        let text = [];
        while (i < characters) {
          text += input.charAt(Math.floor(Math.random() * input.length));+"\n";
          i++;
        }
        return text;
      }
      function generateLetters(characters, letters, input) {
        let i = 0;
        let text = [];
        while (i < letters) {
          text += getNumber(characters, input) + "\n";
          i++;
        }
        return text;
      }

      
      function getRandomeNumber() {
        var data = 0;
        let text1 = document.getElementById("characters").value;
        let text2 = document.getElementById("letters").value;
        let range = document.getElementById("output").value;
        document.getElementById("result").innerHTML = generateLetters(parseInt(text1),parseInt(text2),range.toString()
        );
      }
    </script>
  </body>
</html>
